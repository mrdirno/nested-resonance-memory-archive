{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/mrdirno/nested-resonance-memory-archive/schemas/generic_observational_data.json",
  "title": "Generic Observational Data Schema",
  "description": "Minimal JSON schema for observational data compatible with TSF Data Archiving Protocol. Use this as a baseline when creating custom schemas.",
  "type": "object",
  "required": ["metadata", "timeseries", "statistics"],
  "properties": {
    "metadata": {
      "type": "object",
      "description": "Experiment metadata and provenance",
      "required": ["experiment_id"],
      "properties": {
        "experiment_id": {
          "type": "string",
          "description": "Unique experiment identifier",
          "minLength": 1
        },
        "domain": {
          "type": "string",
          "description": "Scientific domain (e.g., 'population_dynamics', 'finance', 'ecology')"
        },
        "timestamp": {
          "type": "string",
          "description": "ISO 8601 timestamp of experiment execution",
          "format": "date-time"
        },
        "author": {
          "type": "string",
          "description": "Experiment author/researcher"
        },
        "parameters": {
          "type": "object",
          "description": "Arbitrary experiment parameters for reproducibility"
        }
      }
    },
    "timeseries": {
      "type": "object",
      "description": "Time-series data arrays. At least one numeric array required.",
      "minProperties": 1,
      "patternProperties": {
        "^[a-zA-Z_][a-zA-Z0-9_]*$": {
          "type": "array",
          "description": "Numeric time-series array",
          "items": {"type": "number"},
          "minItems": 1
        }
      },
      "additionalProperties": false
    },
    "statistics": {
      "type": "object",
      "description": "Summary statistics computed from timeseries",
      "minProperties": 1,
      "properties": {
        "mean": {"type": "number", "description": "Mean value"},
        "std": {"type": "number", "description": "Standard deviation", "minimum": 0},
        "median": {"type": "number", "description": "Median value"},
        "min": {"type": "number", "description": "Minimum value"},
        "max": {"type": "number", "description": "Maximum value"},
        "cv": {"type": "number", "description": "Coefficient of variation", "minimum": 0},
        "n_samples": {"type": "integer", "description": "Number of samples", "minimum": 1}
      },
      "additionalProperties": true
    },
    "validation": {
      "type": "object",
      "description": "Optional validation data (schema-specific)",
      "additionalProperties": true
    }
  },
  "examples": [
    {
      "metadata": {
        "experiment_id": "EXAMPLE_001",
        "domain": "custom_domain",
        "timestamp": "2025-11-01T12:00:00Z",
        "author": "Researcher Name",
        "parameters": {
          "param1": 1.0,
          "param2": "value"
        }
      },
      "timeseries": {
        "metric1": [1.0, 2.0, 3.0, 2.5, 2.0],
        "metric2": [10.0, 11.0, 10.5, 11.5, 11.0]
      },
      "statistics": {
        "mean": 2.1,
        "std": 0.75,
        "median": 2.0,
        "min": 1.0,
        "max": 3.0,
        "n_samples": 5
      },
      "validation": {}
    }
  ]
}
